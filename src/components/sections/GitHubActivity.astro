---
import SectionHeading from '@/components/ui/SectionHeading.astro';
import ScrollReveal from '@/components/ScrollReveal.astro';
import Card from '@/components/ui/Card.astro';
import Icon from '@/components/ui/Icon.astro';
import Button from '@/components/ui/Button.astro';

const username = 'adithyakpb';

const repos = [
  { name: 'adithyakpb.com', desc: 'Personal portfolio site — Astro 5 + Tailwind CSS v4' },
  { name: 'merit', desc: 'ML Experiment Toolkit — experiment tracking & deployment automation' },
  { name: 'signalandnoise-blog', desc: 'signal and noise blog — Astro 5 + Ghost CMS' },
  { name: 'speech-and-text-emotional-analysis', desc: 'Multimodal emotion detection from speech and text' },
  { name: 'Music-Genre-Classficiation', desc: 'Music genre classification using deep learning' },
  { name: 'PopMusicGenerator_Script', desc: 'Generative music composition with neural networks' },
];
---

<section id="github" class="py-20 bg-surface">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
    <ScrollReveal>
      <SectionHeading
        title="Open Source"
        subtitle="Public repositories and side projects"
      />
    </ScrollReveal>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
      {repos.map((repo, i) => (
        <ScrollReveal delay={i * 80}>
          <a
            href={`https://github.com/${username}/${repo.name}`}
            target="_blank"
            rel="noopener noreferrer"
            class="block h-full"
          >
            <Card class="h-full">
              <div class="flex items-start gap-3">
                <Icon name="github" class="w-5 h-5 text-text-muted mt-0.5 shrink-0" />
                <div>
                  <h3 class="text-sm font-semibold text-primary font-mono">{repo.name}</h3>
                  <p class="text-text-muted text-sm mt-1">{repo.desc}</p>
                </div>
              </div>
            </Card>
          </a>
        </ScrollReveal>
      ))}
    </div>

    <ScrollReveal>
      <div class="text-center">
        <Button href={`https://github.com/${username}`} variant="secondary">
          <Icon name="github" class="w-4 h-4" />
          View all on GitHub
        </Button>
      </div>
    </ScrollReveal>
  </div>
</section>
