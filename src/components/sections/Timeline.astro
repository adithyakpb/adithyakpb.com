---
import SectionHeading from '@/components/ui/SectionHeading.astro';
import ScrollReveal from '@/components/ScrollReveal.astro';
import { timelineEntries } from '@/data/timeline';
---

<section id="timeline" class="py-20 bg-surface">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
    <ScrollReveal>
      <SectionHeading
        title="Timeline"
        subtitle="Career milestones and key experiences"
      />
    </ScrollReveal>

    <div class="relative">
      <!-- Vertical line -->
      <div class="absolute left-4 md:left-8 top-0 bottom-0 w-px bg-border" aria-hidden="true"></div>

      <div class="space-y-12">
        {timelineEntries.map((entry, i) => (
          <ScrollReveal delay={i * 100}>
            <div class="relative pl-12 md:pl-20">
              <!-- Dot on the line -->
              <div class="absolute left-[13px] md:left-[29px] top-1.5 w-2.5 h-2.5 rounded-full bg-primary ring-4 ring-surface" />

              <div>
                <span class="inline-block text-xs font-mono font-semibold text-primary bg-primary/10 px-2 py-0.5 rounded mb-2">
                  {entry.period}
                </span>
                <h3 class="text-lg font-semibold text-text">
                  {entry.role}
                  <span class="text-text-muted font-normal"> â€” {entry.org}</span>
                </h3>
                {entry.location && (
                  <p class="text-sm text-text-light mt-0.5">{entry.location}</p>
                )}
                <p class="text-text-muted mt-2 leading-relaxed">{entry.description}</p>
                {entry.highlights && (
                  <ul class="mt-3 space-y-1">
                    {entry.highlights.map((h) => (
                      <li class="flex items-start gap-2 text-sm text-text-muted">
                        <span class="text-primary mt-1.5 shrink-0">&#8226;</span>
                        {h}
                      </li>
                    ))}
                  </ul>
                )}
              </div>
            </div>
          </ScrollReveal>
        ))}
      </div>
    </div>
  </div>
</section>
